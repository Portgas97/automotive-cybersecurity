#!/usr/bin/bash

CAN_INTERFACE=$1
CAN_FRAME_ID="3C0" #"7df"
CAN_FRAME_DATA="00.00.02.00"      


# CAN_FRAME_DATA="0303030303030303"

# pattern 000 111 000 111 ...
# CAN_FRAME_DATA="0001.1100.0111.0001.1100.0111.0001.1100.0111.0001.1100.0111.0001.1100.0111.0001 " # https://support.vector.com/kb?id=kb_article_view&sysparm_article=KB0012123&sys_kb_id=ec35fd32878b3954cd36fd99cebb3509&spa=1
# CAN_FRAME_DATA="1C.71.C7.1C.71.C7.1C.71"

# pattern 0000 111 0000 111 ...
# 0000.1110.0001.1100.0011.1000.0111.0000.1110.0001.1100.0011.1000.0111.0000.1110
# CAN_FRAME_DATA="0E.1C.38.70.E1.C3.87.0E"

# pattern 00000 111 00000 111 ...
# 0000.0111.0000.0111.0000.0111.0000.0111.0000.0111.0000.0111.0000.0111.0000.0111.0000.0111.0000.0111
# CAN_FRAME_DATA="0707070707070707" 

# CAN_FRAME_DATA="FF.FF.FF.FF"
# CAN_FRAME_DATA="00.00.03.00.00.00.00.00
# CAN_FRAME_DATA="02.3E00.00"
# CAN_FRAME_DATA="00.00.02.00 "


# Infinite loop to send a frame every 10ms
while true; do
    cansend $CAN_INTERFACE $CAN_FRAME_ID#$CAN_FRAME_DATA
    # cansend $CAN_INTERFACE $CAN_FRAME_ID#02.3E00.AA.AA.AA.AA.AA
    sleep 0.01     # Sleep for 10 milliseconds
done

